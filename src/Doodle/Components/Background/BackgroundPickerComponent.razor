@inherits Shared.DoodleBaseComponent 

<div data-toolbarmenu-backgroundpickercomponent="@DataAttributeName" class="doodle-toolbar-panels">
    <div class="doodle-toolbar-panel">
        <div class="doodle-toolbar-panel-header">
            <span>Backgrounds</span>
        </div>

        <div class="doodle-toolbar-panel-content">
            <div data-toolbarmenu-backgroundpickercomponent-menubackgrounds="@DataAttributeName" class="background-picker-layout">
                @foreach (var backgroundSource in BackgroundSources)
                {
                    bool isSelected = DoodleDrawInteraction.SelectedBackgrounds.Contains(backgroundSource);
                    
                    <BackgroundSourceComponent 
                        IsPreview="true"
                        BackgroundSource="@backgroundSource"
                        IsSelected="@isSelected"
                        OnClick="@((backgroundSource) => ToggleSelectedBackground(backgroundSource))">
                    </BackgroundSourceComponent>
                }
            </div>
        </div>
    </div>
    <div class="doodle-toolbar-panel">
        <div class="doodle-toolbar-panel-header">
            <span>Close</span>
        </div>

        <div class="doodle-toolbar-panel-content">
            <div data-toolbarmenu-backgroundpickercomponent-menuclose="@DataAttributeName" class="doodle-toolbar-panel-content-wrapper">
                <button class="btn-round" title="Close"
                        @onclick="@(() => OnCloseMenu.InvokeAsync())"> 
                    <span class="material-icons doodle-toolbar-close" >close</span>
                </button>
            </div>
        </div>
    </div>
</div>

